# 配置管理UI界面说明

## 菜单结构

配置管理页面左侧菜单按业务流程排序，共10个配置项：

```
配置管理
├── 🗑️ 删除无关关键词
├── ✂️ 处理分隔符
├── 🔄 同义词映射
├── 📝 归一化映射
├── ⚙️ 全局配置
├── 🏷️ 品牌关键词
├── 📦 设备类型
├── ⚖️ 特征权重        ⭐ 新增
├── 🔧 高级配置        ⭐ 新增
└── 🎯 设备行识别      ⭐ 新增
```

## 新增界面详情

### 1. 特征权重配置 (⚖️)

**界面布局**:
```
┌─────────────────────────────────────────────────────────┐
│ 特征权重配置                                              │
│ 控制规则生成时不同类型特征的权重，影响匹配准确性。         │
├─────────────────────────────────────────────────────────┤
│                                                           │
│ 品牌权重                                                  │
│ 品牌特征的权重值（如：霍尼韦尔、西门子）                   │
│ [  3.0  ] ━━━━━●━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ │
│                                                           │
│ 型号权重                                                  │
│ 型号特征的权重值（如：QAA2061、V5011N1040）               │
│ [  3.0  ] ━━━━━●━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ │
│                                                           │
│ 设备类型权重                                              │
│ 设备类型特征的权重值（如：传感器、控制器、阀门）           │
│ [  5.0  ] ━━━━━━━━━━●━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ │
│                                                           │
│ 参数权重                                                  │
│ 通用参数特征的权重值（如：4-20mA、0-10V）                 │
│ [  1.0  ] ━●━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ │
│                                                           │
├─────────────────────────────────────────────────────────┤
│ 权重说明                                                  │
│ • 品牌权重：推荐值 3.0，品牌是重要的识别特征              │
│ • 型号权重：推荐值 3.0，型号通常是唯一标识                │
│ • 设备类型权重：推荐值 5.0，设备类型是最重要的区分特征    │
│ • 参数权重：推荐值 1.0，通用参数区分度较低                │
└─────────────────────────────────────────────────────────┘
```

**控件说明**:
- 每个权重项包含数字输入框和滑动条
- 滑动条范围：0-10，步长0.1
- 实时同步输入框和滑动条的值

---

### 2. 高级配置 (🔧)

**界面布局**:
```
┌─────────────────────────────────────────────────────────┐
│ 高级配置                                                  │
│ 高级预处理配置，包括元数据关键词（字段名）等。             │
├─────────────────────────────────────────────────────────┤
│                                                           │
│ 元数据关键词                                              │
│ 这些关键词通常是字段名称（如"型号"、"品牌"），在特征提取   │
│ 时会被忽略，只提取其对应的值。                            │
│                                                           │
│ ┌───────────────────────────────────────┐ [ 添加 ]       │
│ │ 输入关键词后按回车添加                 │               │
│ └───────────────────────────────────────┘               │
│                                                           │
│ ┌─────────────────────────────────────────────────────┐ │
│ │ [ 型号 × ] [ 通径 × ] [ 阀体类型 × ] [ 适用介质 × ]  │ │
│ │ [ 品牌 × ] [ 规格 × ] [ 参数 × ] [ 名称 × ]          │ │
│ │ [ 类型 × ] [ 尺寸 × ] [ 材质 × ] [ 功率 × ]          │ │
│ │ [ 电压 × ] [ 电流 × ] [ 频率 × ] [ 温度 × ]          │ │
│ │ [ 压力 × ] [ 流量 × ] [ 湿度 × ] [ 浓度 × ]          │ │
│ │ [ 范围 × ] [ 精度 × ] [ 输出 × ] [ 输入 × ]          │ │
│ │ [ 信号 × ] [ 接口 × ] [ 安装 × ] [ 防护 × ]          │ │
│ │ [ 等级 × ]                                            │ │
│ └─────────────────────────────────────────────────────┘ │
│                                                           │
│ 共 29 个元数据关键词                                      │
│                                                           │
├─────────────────────────────────────────────────────────┤
│ 💡 使用说明                                               │
│ • 元数据关键词用于识别字段名称，避免将其作为匹配特征      │
│ • 例如："型号：QAA2061" 中，"型号"是字段名，"QAA2061"   │
│   才是特征                                                │
│ • 常见的元数据关键词包括：型号、品牌、规格、参数、名称等  │
│ • 添加元数据关键词可以提高特征提取的准确性                │
└─────────────────────────────────────────────────────────┘
```

**控件说明**:
- 输入框：输入新关键词，按回车或点击"添加"按钮
- 关键词标签：蓝色圆角标签，点击"×"删除
- 统计信息：显示当前关键词总数

---

### 3. 设备行识别 (🎯)

**界面布局**:
```
┌─────────────────────────────────────────────────────────┐
│ 设备行识别配置                                            │
│ 控制Excel文件中设备行的智能识别，包括概率阈值和评分权重。 │
├─────────────────────────────────────────────────────────┤
│                                                           │
│ 概率阈值                                                  │
│ 设置设备行识别的概率阈值，用于判断一行是否为设备行。      │
│                                                           │
│ 高概率阈值                                                │
│ 得分超过此值判定为高概率设备行                            │
│ [  50  ] 分                                              │
│                                                           │
│ 中概率阈值                                                │
│ 得分超过此值判定为中概率设备行                            │
│ [  30  ] 分                                              │
│                                                           │
├─────────────────────────────────────────────────────────┤
│                                                           │
│ 评分权重                                                  │
│ 三个维度的评分权重，总和应为1.0。                         │
│                                                           │
│ 数据类型权重                                              │
│ 数据类型维度的权重（推荐0.3）                             │
│ [ 0.30 ] ━━━━━━●━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ │
│                                                           │
│ 行业特征权重                                              │
│ 行业特征维度的权重（推荐0.35）                            │
│ [ 0.35 ] ━━━━━━━●━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ │
│                                                           │
│ 结构特征权重                                              │
│ 结构特征维度的权重（推荐0.35）                            │
│ [ 0.35 ] ━━━━━━━●━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ │
│                                                           │
│ 权重总和: 1.00                                            │
│                                                           │
├─────────────────────────────────────────────────────────┤
│ 💡 配置说明                                               │
│ • 高概率阈值：推荐值 50，得分超过50分的行会被自动识别为   │
│   设备行                                                  │
│ • 中概率阈值：推荐值 30，得分在30-50之间的行需要用户确认  │
│ • 评分权重：三个维度的权重总和必须为1.0，建议保持默认值   │
└─────────────────────────────────────────────────────────┘
```

**控件说明**:
- 概率阈值：数字输入框，范围0-100
- 评分权重：数字输入框和滑动条，范围0-1，步长0.05
- 权重总和验证：实时显示，不等于1.0时显示红色警告

---

## 全局配置扩展

在原有的"全局配置"页面中新增了两个配置项：

```
┌─────────────────────────────────────────────────────────┐
│ 全局配置                                                  │
│ ...（原有配置项）...                                      │
│                                                           │
│ 最小特征长度                                              │
│ 非中文特征的最小长度（字符数）                            │
│ [  2  ]                                                  │
│                                                           │
│ 中文特征最小长度                                          │
│ 中文特征的最小长度（字符数）                              │
│ [  1  ]                                                  │
└─────────────────────────────────────────────────────────┘
```

---

## 顶部操作栏

所有配置页面共享的顶部操作栏：

```
┌─────────────────────────────────────────────────────────┐
│ 配置管理                                                  │
│                                                           │
│ [ 重置 ] [ 导出 ] [ 导入 ] [ 重新生成规则 ] [ 保存 ]     │
└─────────────────────────────────────────────────────────┘
```

**按钮说明**:
- **重置**: 放弃当前修改，恢复到上次保存的状态
- **导出**: 导出当前配置为JSON文件
- **导入**: 从JSON文件导入配置
- **重新生成规则**: 使用当前配置重新生成所有设备的匹配规则
- **保存**: 保存当前配置（需要输入备注信息）

---

## 底部预览区

所有配置页面共享的底部实时预览区：

```
┌─────────────────────────────────────────────────────────┐
│ 实时预览                                                  │
│                                                           │
│ ┌───────────────────────────────────────────────────┐   │
│ │ 输入测试文本...                                    │   │
│ └───────────────────────────────────────────────────┘   │
│                                                           │
│ 预处理结果                                                │
│ 原始文本: 霍尼韦尔 室内温度传感器 QAA2061                 │
│ 清理后: 霍尼韦尔 室内温度传感器 QAA2061                   │
│ 归一化: 霍尼韦尔室内温度传感器qaa2061                     │
│ 提取特征: [ 霍尼韦尔 ] [ 室内温度传感器 ] [ qaa2061 ]    │
│                                                           │
│ 匹配结果                                                  │
│ 状态: 成功                                                │
│ 匹配设备: 霍尼韦尔 室内温度传感器 QAA2061                 │
│ 得分: 11.0                                                │
└─────────────────────────────────────────────────────────┘
```

---

## 消息提示

操作成功或失败时，右上角显示消息提示：

```
┌─────────────────────────────────┐
│ ✓ 配置保存成功                   │
└─────────────────────────────────┘

┌─────────────────────────────────┐
│ ✗ 配置保存失败: 网络错误         │
└─────────────────────────────────┘

┌─────────────────────────────────┐
│ ℹ 正在加载配置...                │
└─────────────────────────────────┘
```

消息类型：
- **成功** (绿色): 操作成功完成
- **错误** (红色): 操作失败
- **信息** (蓝色): 一般信息提示

---

## 键盘快捷键

- **Ctrl+S** / **Cmd+S**: 保存配置
- **Ctrl+Z** / **Cmd+Z**: 重置配置

---

## 响应式设计

在小屏幕设备上，左侧菜单会自动切换为横向滚动模式，确保在各种设备上都能正常使用。
